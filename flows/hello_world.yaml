flow: HelloWorld
description: A simple greeting workflow demonstrating basic FlowLang features

inputs:
  - name: user_name
    type: string
    required: true
    description: Name of the user to greet

steps:
  # Step 1: Validate the user name
  - task: ValidateUser
    id: validate
    inputs:
      name: ${inputs.user_name}
    outputs:
      - is_valid
      - validation_message

  # Step 2: Greet the user (only if valid)
  - if: ${validate.is_valid} == true
    then:
      - task: GenerateGreeting
        id: greet
        inputs:
          name: ${inputs.user_name}
        outputs:
          - greeting
          - timestamp
    else:
      - task: GenerateErrorMessage
        id: error
        inputs:
          reason: ${validate.validation_message}
        outputs:
          - error_message

outputs:
  - name: message
    value: ${greet.greeting}
    description: The greeting message (if validation passed)

  - name: timestamp
    value: ${greet.timestamp}
    description: When the greeting was generated
